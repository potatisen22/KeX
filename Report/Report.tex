\documentclass[journal]{IEEEtran}

\hyphenation{op-tical net-works semi-conduc-tor}
\usepackage{graphicx}
\usepackage{bm}
\usepackage{siunitx}
\usepackage{tikz}
\usetikzlibrary{intersections, calc, shapes, arrows}
\graphicspath{ {img/} }
\usepackage{float}
\pagenumbering{gobble}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\newcommand*{\subb}[1]{_{\mathrm{#1}}}
\tikzset{
	partial ellipse/.style args={#1:#2:#3}{
		insert path={+ (#1:#3) arc (#1:#2:#3)}
	}
}

\tikzstyle{block} = [draw, fill=blue!20, rectangle, 
    minimum height=3em, minimum width=6em]
\tikzstyle{sum} = [draw, fill=blue!20, circle, node distance=1cm]
\tikzstyle{input} = [coordinate]
\tikzstyle{output} = [coordinate]
\tikzstyle{pinstyle} = [pin edge={to-,thin,black}]

\begin{document}
	% paper title
	% can use linebreaks \\ within to get better formatting as desired
	% Do not put math or special symbols in the title.
	\title{Motion Planning and Control of Unmanned Aerial Vehicles}
	\author{Vilhelm~Dinevik and Paula~Carb\'o}
	% author names and IEEE memberships
	% note positions of commas and nonbreaking spaces ( ~ ) LaTeX will not break
	% a structure at a ~ so this keeps an author's name from being broken across
	% two lines.
	% use \thanks{} to gain access to the first footnote area
	% a separate \thanks must be used for each paragraph as LaTeX2e's \thanks
	% was not built to handle multiple paragraphs
	%	
		
	% note the % following the last \IEEEmembership and also \thanks -
	% these prevent an unwanted space from occurring between the last author name
	% and the end of the author line. i.e., if you had this:
	%
	% \author{....lastname \thanks{...} \thanks{...} }
	%                     ^------------^------------^----Do not want these spaces!
	%
	% a space would be appended to the last name and could cause every name on that
	% line to be shifted left slightly. This is one of those "LaTeX things". For
		% instance, "\textbf{A} \textbf{B}" will typeset as "A B" not "AB". To get
	% "AB" then you have to do: "\textbf{A}\textbf{B}"
	% \thanks is no different in this regard, so shield the last } of each \thanks
	% that ends a line with a % and do not let a space in before the next \thanks.
	% Spaces after \IEEEmembership other than the last one are OK (and needed) as
	% you are supposed to have spaces between the names. For what it is worth,
	% this is a minor point as most people would not even notice if the said evil
	% space somehow managed to creep in.
	
	% The paper headers
	\markboth{A3. Smart Autonomous Systems in Robotics}%
	{Shell \MakeLowercase{\textit{et al.}}: Bare Demo of IEEEtran.cls for Journals}
	% The only time the second header will appear is for the odd numbered pages
	% after the title page when using the twoside option.
	%
	% *** Note that you probably will NOT want to include the author's ***
	% *** name in the headers of peer review papers.                   ***
	% You can use \ifCLASSOPTIONpeerreview for conditional compilation here if
	% you desire.
	
	% make the title area
	\maketitle
	
	% As a general rule, do not put math, special symbols or citations
	% in the abstract or keywords.
	\begin{abstract}
		The core of this project focuses on how to make aerial vehicles fly autonomously from an initial position to a goal. This is done by making a mathematical model for the UAV, a brief study of the sensors needed to estimate the UAV’s state, then designing an LQR controller for the trajectory tracking and finally using an artificial potential field function for the navigation. The mathematical model is done by studying the kinematics and dynamics for a single UAV, it is then linearised and the system's observability and controllability are checked to develop the LQR. We conduct computer simulation to test the theoretical findings and evaluate the proposed methods. Finally, we conclude the paper with the discussion and the results, and provide directions and ideas to do further research on the topic.
	\end{abstract}
		
	% For peer review papers, you can put extra information on the cover
	% page as needed:
	% \ifCLASSOPTIONpeerreview
	% \begin{center} \bfseries EDICS Category: 3-BBND \end{center}
	% \fi
	%
	% For peerreview papers, this IEEEtran command inserts a page break and
	% creates the second title. It will be ignored for other modes.
	%\IEEEpeerreviewmaketitle
	
	\section{Introduction}
	% The very first letter is a 2 line initial drop letter followed
	% by the rest of the first word in caps.
	%
	% form to use if the first word consists of a single letter:
	% \IEEEPARstart{A}{demo} file is ....
	%
	% form to use if you need the single drop letter followed by
	% normal text (unknown if ever used by IEEE):
	% \IEEEPARstart{A}{}demo file is ....
	%
	% Some journals put the first two words in caps:
	% \IEEEPARstart{T}{his demo} file is ....
	%
	% Here we have the typical use of a "T" for an initial drop letter
	% and "HIS" in caps to complete the first word.
	\IEEEPARstart{U}{nmanned} aerial vehicles, also known as UAVs, are becoming more and more popular nowadays because they are small, cheap to produce, have low operating and maintenance cost, great maneuverability, can perform steady flight operations and are able to enter high-risk areas without having to compromise human safety. Most applications that involve UAVs have been used in open areas without any obstacles and with a human in control of the UAV. But in recent years people have come up with more modern applications of UAVs that will need them to fly autonomously in densely populated areas, with a lot of other autonomous vehicles around, e.g. Amazon Prime Air delivery system, AltiGator drones services for inspection and data adquisition, or multi-UAVs used to deploy an aerial communications network \cite{intro_network}. This places high demands on UAVs’ obstacle avoidance capabilities for both moving and static obstacles.\\
	
	There are many different UAV manufacturers and a vast amount of different models, all with different motors, weights, sensors and lift-to-weight ratio. To make standard autonomous flight applicable to all these kinds of UAVs, a simple and easy-to-implement multi-UAV mathematical model, that will still be able to avoid obstacles with as few sensors as possible, is needed.\\
	
	 There is plenty of previous work that has focused on modelling and controlling a single UAV in great detail \cite{intro_nolinear_model_control}, on simulating high-fidelity multi-UAV scenarios \cite{intro_3d_unity} and on finding the most precise sensing techniques to create indoor and outdoor capability \cite{intro_indoor_sensing}. Based on all this previous research, the core of this project is to develop a control method that can make multiple quadrotor UAVs fly safely to their goals in an environment filled with obstacles. To develop this simple but complete and comprehensive solution, the aim of this report is therefore to study the mathematical model for a single vehicle, the sensors placed in the UAV that provide all the information of its state, a linearisation-based tracking controler and a navigation controler based on potential fields. \\
	
	In section II the development of the mathematical model for the quad is explained. Section III analyses different sensors on board the UAV and how they could be used to measure the state of the UAV accurately. In section IV, the tracking controller of the UAV is studied. In section V, the navigation method  is explained and described. The simulations performed and the results obteined are explained in section VI. Finally, in the last section of this paper, the results are explained and discussed. Future works and ideas derived from the work done on this project are also mentioned.

	\hfill 	
	
	
	\section{Quadcopter modelling}
	\subsection{Overview}
	
	The UAV studied in this report is a rigid body quad copter, with a cross-shaped body and four electrical propellers. Front and rear rotors rotate in a clockwise direction, while right and left rotors rotate in a counter clockwise direction (see \figurename  \ref{fig:frames_rotors}). This system has 6 degrees of freedom but there are only 4 propellers, therefore the system is under actuated. 
	
	\begin{figure}[h]
		\centering
		\input{graph/frames_propellers}
		\caption{Quadrotor with propellers and the two reference frames.}
		\label{fig:frames_rotors}
	\end{figure}
	
	\subsection{Kinematics}
	In order to describe the motion of the UAV, a kinematic model for  developed. Two right-hand reference frames are defined: the Earth frame and the body frame, as can be seen in \figurename{ {}\ref{fig:frames_rotors}}. The Earth frame is static, while the body frame is attached to the UAV. In this case, the axis origin $o_B$ coincides with the quadrotor's center of mass.\\

	The generalized position $\bm{\xi}$ contains the inertial position and Euler-angle orientation, and it is described in the Earth frame, as in (\ref{eq:pos}). The linear position $\bm{x}^E$ of the UAV is the vector between the origin of the Earth frame $o_E$ and the origin of the body frame $o_B$, and the Euler angles $\bm{\eta}^E$ are defined as stated in \figurename{ \ref{fig:roll_pitch_yaw}}.
	
	\begin{figure}[h]
		\centering
		\input{graph/roll}
		\input{graph/pitch}
		\input{graph/yaw}
		\caption{Euler angles $\phi, \theta, \psi$.}
		\label{fig:roll_pitch_yaw}
	\end{figure}

	\begin{equation} \label{eq:pos}
	\bm{\xi} = \left[ \begin{array}{cc}
	\bm{x}^E & \bm{\eta}^E \\
	\end{array}\right]^T = \left[ \begin{array}{cccccc}
	x & y & z & \phi & \theta & \psi\\
	\end{array}\right] ^T
	\end{equation}  
	The generalized velocity $\bm{\nu}$ (\ref{eq:vel}) contains the linear and angular velocity, and it is expressed in the body frame.
	\begin{equation} \label{eq:vel}
	\bm{\nu} = \left[ \begin{array}{cc}
	\bm{v}^B & \bm{\omega}^B \\
	\end{array}\right]^T = \left[ \begin{array}{cccccc}
	u & v & w & p & q & r\\
	\end{array}\right] ^T 
	\end{equation}
	
	Three rotation matrixes around each of the $x, y, z$ axes, that correspond to the Euler-angle orientation, can be defined according to (\ref{eq:rotx}, \ref{eq:roty}, \ref{eq:rotz}) respectively.
	\begin{equation} \label{eq:rotx}
	\bm{R}_x (\phi)=
	\left[ {\begin{array}{ccc}
		1 & 0 & 0 \\
		0 & \cos(\phi) & -\sin(\phi) \\
		0 &  \sin(\phi) & \cos(\phi) \\ 
		\end{array} } \right]
	\end{equation}  
	\begin{equation} \label{eq:roty}
	\bm{R}_y (\theta)=
	\left[ {\begin{array}{ccc}
		\cos(\theta) & 0 & \sin(\theta) \\
		0 & 1 & 0 \\
		-\sin(\theta) &  0 & \cos(\theta) \\ 
		\end{array} } \right]
	\end{equation}  
	\begin{equation} \label{eq:rotz}
	\bm{R}_z (\psi)=
	\left[ {\begin{array}{ccc}
		\cos(\psi) & -\sin(\psi) & 0 \\
		\sin(\psi) & \cos(\psi) & 0 \\
		0 &  0 & 1 \\ 
		\end{array} } \right]
	\end{equation}  
	The complete rotation matrix $\bm{R}_\Theta$, that expresses the orientation from the body frame to the Earth frame, can be obtained by multiplying these three matrices, as in (\ref{eq:rot}).
	\begin{equation} \label{eq:rot}
	\bm{R}_\Theta (\phi, \theta, \psi) = 	\bm{R}_x (\phi)  \bm{R}_y (\theta)  \bm{R}_z (\psi)
	\end{equation}  
	
	The transfer matrix $\bm{T}_\Theta$ that allows to change between the angular velocity in the body frame $\bm{\omega}^B$ and the Euler rates in the Earth frame $\bm{\dot \eta}^E$  can be determined and is as shown in (\ref{eq:transf}).
	\begin{equation} \label{eq:transf}
	\bm{T}_\Theta (\phi,\theta )= \left[ {\begin{array}{ccc}
		1 & \sin(\phi) \cdot \tan(\theta) & \cos(\phi) \cdot \tan (\theta) \\
		0 & \cos(\phi) & -\sin(\phi) \\
		0 &  \sin(\phi)/\cos(\theta) & \cos(\phi)/\cos(\theta)  \\ 
		\end{array} } \right]
	\end{equation}  
	
	A generalized matrix $\bm{J}_\Theta$ can be built joining the rotation and the transfer matrix (\ref{eq:rot}, \ref{eq:transf}), as shown in (\ref{eq:gen}).
	
	\begin{equation} \label{eq:gen}
	\bm{J}_\Theta (\phi,\theta, \psi)= \left[ {\begin{array}{cc}
		\bm{R}_\Theta &  \mathbf{0}_{3\times 3} \\
		\mathbf{0}_{3\times 3} & \bm{T}_\Theta \\
		\end{array} } \right]
	\end{equation}  
	Where the notation $\mathbf{0}_{3\times 3}$ means a matrix filled with zeros with a $3 \times 3$ dimension.\\
	
	In order to relate the derivative of the generalized position in the Earth frame with the generalized velocity in the body frame, the generalized matrix (\ref{eq:gen}) can be used as seen in (\ref{eq:total_kinematics}), and that is the final model of the quadrotor's kinematics \cite{SabatinoFrancesco2015Qcmn, mod_control_bresciani}.
	\begin{equation} \label{eq:total_kinematics}
	\bm{\dot\xi} = \bm{J}_\Theta \ 	\bm{\nu} 
	\end{equation} 
	
	Both $\bm{\xi}$ and $\bm{\nu}$ are combined to define the state's vector $\bm{x}$ (\ref{eq:state_vector}), that will be used in further sections of this report.
	
	\begin{equation} \label{eq:state_vector}
		\bm{x} = \left[ \begin{array}{cccccccccccc}
			\phi & \theta & \psi & p & q & r & u & v & w & x & y & z
			\end{array}\right] ^T
		\end{equation}
	
	\subsection{Dynamics}
	The dynamic model for the UAV relates the acceleration of the vehicle with the forces and torques acting on the quadrotor. The Newton-Euler formulation allows to express these variables in the body frame, as in equations (\ref{eq:newton_euler_forces}) and (\ref{eq:newton_euler_torques}), as clearly stated by Bresciani in \cite{mod_control_bresciani}.
	\begin{equation} \label{eq:newton_euler_forces}
	\bm{F}^B = m ( \bm{\dot v}^B + \bm{\omega}^B \times \bm{v}^B)
	\end{equation}
	\begin{equation} \label{eq:newton_euler_torques}
	\bm{\tau}^B = \bm{I} \ \bm{\dot \omega}^B + \bm{\omega}^B \times (\bm{I} \ \bm{\omega}^B)
	\end{equation}
	
	\section{Sensor modelling and feedback}
	The core of this project focuses on how to make aerial vehicles fly autonomously from an initial position to a goal. Therefore, apart from the main algorithm that makes this possible, it is important that the vehicle can acquire accurate information about its condition and its surroundings. Sensors do not only have to provide information about the state of the UAV as to close the loop for the tracking controller, but also provide information about the objects the vehicle may encounter throughout its path, as to make the navigation safe and prevent collisions. The sensors analysed that make this possible are Inertial Measurement Units (IMU), GPS devices, infrared and ultrasonic sensors.\\
	
	\subsection{Inertial Measurement Unit}
	This module is in charge of measuring almost all the variables related to the motion of the vehicle. There are usually a 3-axis accelerometer, gyroscope and magnetometer inside this module. The most precise IMUs integrate specially designed sensors and sometimes include a GPS, a RS232 transceiver and a processor, that runs a real-time Kalman filter in order to provide the most accurate data directly to the CPU. \\
	
	
	\subsubsection{Triple axis accelerometer} This sensor measures proper acceleration along the three axes on the body frame. It can measure dynamic acceleration as a result of the motion of the drone.  As shown in (\ref{eq:imu_accel}), the rotation matrix is used to convert from acceleration provided by the IMU to acceleration in the Earth frame \cite{modelling_control_mahony}.\\
	\begin{equation} \label{eq:imu_accel}
	\bm{a}\subb{IMU}= \bm{R}^T_\Theta \ (\bm{\ddot{x}}^E - g \ \bm{\vec{z}_E})
	\end{equation}
	
	\subsubsection{Triple axis gyroscope} This device can measure angular rates in three axes. Therefore, it can give the angular velocity of the body frame relative to the Earth frame, expressed in the body frame (\ref{eq:imu_gyro}).\\
	\begin{equation} \label{eq:imu_gyro}
	\bm{\omega}\subb{IMU}= \bm{\omega}^B 
	\end{equation}
	
	\subsubsection{Triple axis magnetometer} This kind of sensors are able to measure ambient magnetic field. Ideally this corresponds to the Earth's magnetic field, therefore the orientation of the vehicle can be measured, according to (\ref{eq:imu_magne}).
	\begin{equation} \label{eq:imu_magne}
	\bm{m}\subb{IMU}= \bm{R}^T_\Theta \  \bm{m}\subb{Earth}
	\end{equation}
	Where $\bm{m}\subb{Earth}$ corresponds to the Earth's magnetic field expressed in the Earth frame. This measurement is not accurate if the bias caused by the local magnetic disturbance $\bm{b}\subb{m}$ is not taken into account (\ref{eq:imu_magne_bias}). The sensor has to be placed as far as possible from the elements that may cause this disturbance onboard the UAV, such as the wires that power the rotors \cite{modelling_control_mahony}.
	\begin{equation} \label{eq:imu_magne_bias}
	\bm{m}\subb{IMU}= \bm{R}^T_\Theta \  \bm{m}\subb{Earth} + \bm{b}\subb{m}
	\end{equation}
	
	In all the specified sensors, bias and noise are also present. Gyroscopes are usually robust against this noise. But once placed in an UAV, accelerometers are affected by the vibration, and need filtering for its measurements to be considered reliable.
	
	\subsection{GPS receiver}
	This device is basically a receiver that makes use of the satellite-based Global Positioning System to calculate the vehicle's geographical position (longitude and latitude) thanks to a 24 satellite constellation around Earth and trilateration. Casual and inexpensive GPS devices are accurate down to a couple of meters, therefore either better GPS devices or suplementary information from other sensors are needed in order to estimate the position of the vehicle as accurately as possible using GPS. For example, motion tracking via smart cameras together with Simultaneous Localization and Mapping solver techniques \cite{modelling_control_mahony}. GPS may also not function indoors, so its usefulness is limited.
	
	\subsection{Infrared sensors}
	In order to sense the UAV's immediate surroundings, a device that is able to know if there is any obstacle around its relative position to the drone is needed. An array of active infrared sensors correctly placed on the quadrotor is a good solution for this application. An IR sensor basically consists of a LED acting as an emitter and a photo detector acting as a receiver. Both need to have a peak in the same wavelength for optimal power radiation in the emitter and sensitivity in the receiver. The LED emits a light beam in the infrared range (\SI{700}{\nano \meter} to \SI{1}{\milli \meter} wavelength), and when the beam finds an obstacle, it is reflected. The receptor is a Position-Sensitive Device that is able to detect the angle of the received beam, and therefore the device is able to detect the distance to the obstacle using triangulation, as can be seen in \figurename{ \ref{fig:ir}}.
	\begin{figure}[H]
		\centering
		\includegraphics[width=2.5in]{ir}
		\caption{Infrared obstacle detection diagram.}
		\label{fig:ir}
	\end{figure}
	Since the emitted light beam needs to be reflected by an object, the object's reflectance is an important factor to take into account, since poor reflective objects may not be detected in time.  Also, some other natural or artificial sources of radiation such as the Sun may cause interferences. To improve the circuit's response to interferences the signal must be properly conditioned and modulated \cite{mod_control_bresciani, remotecontrol}.
	
	\subsection{Ultrasonic sensors}
	This device, together with IR sensors, allows for measuring the distance from the vehicle to an obstacle. An ultrasonic sensor consists of a high-frequency sound emitter and a receiver. Both are electrical signals \textendash \ sound wave transducers, and their operation is similar to the IR sensors: the emitted wave is reflected by the obstacle, and when received, the distance to the obstacle can be calculated based on the time of flight (TOF) for the signal in the air, as can be seen in \figurename{} \ref{fig:ultrasonic}. Just by knowing the time that passed between emission and reception the distance to the obstacle can be known, since the velocity of the sound in the air is known, according to (\ref{eq:ultrasonic_formula}). 
	
	\begin{equation} \label{eq:ultrasonic_formula}
	d\subb{obstacle} = \textrm{v}\subb{sound, air} \ \frac{TOF}{2}
	\end{equation}
	\begin{figure}[H]
		\centering
		\includegraphics[width=2.5in]{ultrasonic2}
		\caption{Ultrasonic obstacle detection diagram, obtained from \cite{hirata2008cross}.}
		\label{fig:ultrasonic}
	\end{figure}
	
	These sensors may also be used to measure the altitude of the UAV, that can be combined with a barometer to know both the relative and absolute altitude. According to Adarsh in \cite{AdarshS2016PcoI}, both IR and ultrasonic sensors usually have high correlation between the measured values, except for some specific materials. Both types have proven to be accurate when performing further processing techniques of the acquired data.
	
	
	\section{Trajectory tracking}
	In order for us to be able to make the UAV follow a given path we have to implement a controller into the UAV system. The individual UAV systems in this project could be described with a block diagram as the one pictured in \figurename{\ref{fig:block_diagram}},
	\begin{figure}[h]
		\centering
		\input{graph/block_diagram}
		\caption{Block diagram for individual quadrotor}
		\label{fig:block_diagram}
	\end{figure}	
	where $\bm{r}$ is our reference signal and $\bm{u}$ is the output from the controller $\bm{K}$ defined as
	\begin{equation} \label{eq:uvect}
		\bm{u} = \left[ {\begin{array}{cccc}	
    f\subb{t} & \tau\subb{x} & \tau\subb{y} & \tau\subb{z}
	\end{array} } \right]^T
	\end{equation}
	 We linearise the mathematical model and express it on the linear state space form seen in equations (\ref{eq:state_space_1}) and (\ref{eq:state_space_2}), according to \cite{SabatinoFrancesco2015Qcmn},  to do optimal control with LQR.


	\begin{equation} \label{eq:state_space_1}
			\bm{\dot x} = \bm{A} \bm{x} + \bm{B} \bm{u}
	\end{equation}
	
	\begin{equation} \label{eq:state_space_2}
	\bm{y} = \bm{C} \bm{x}
	\end{equation}	
	
In order to linearise the mathematical model we define a $\hat{x}(t)$ and $\hat{u}(t)$ to match the desired trajectory, we then define $\Delta x(t)$ and a $\Delta u(t)$ such as
\begin{equation} \label{eq:linearisation}
	\left\lbrace {\begin{array}{c}	
	\Delta x(t) = x(t) - \hat{x}(t) \\
	 \Delta u(t) = u(t) - \hat{u}(t)
	\end{array} }\right.
\end{equation}	 
Using equations (\ref{eq:state_space_1}) and (\ref{eq:state_space_2}), this gives us
\begin{equation} \label{eq:linerstate}
	\Delta \dot{x(t)} = A(t) \Delta x(t) + B(t) \Delta u(t)
\end{equation}	
	\begin{equation} \label{eq:linearstate_2}
		\Delta y = C \Delta x
	\end{equation}
	We then estimate $\Delta x(t)$ and $\Delta u(t)$ using a first order taylor approximation around an equilibrium point.
	With the model rewritten according to \ref{eq:state_space_1} and \ref{eq:state_space_2} we verify that all the states of the system are both observable and controllable. In order to check the observability and controllability of the system we have to design two matrices, $\mathcal{O}$ and $\mathcal{C}$ defined as following.
	\begin{equation}\label{eq:observability}
	\mathcal{O} = 
	\left[ {\begin{array}{c}	
    \bm{C}\\
    \bm{CA}\\
    \bm{CA}^2\\
    \bm{CA}^3\\
    \vdots \\
    \bm{CA}^{11}
	\end{array} } \right] \in 
	\mathbb{R}
	\end{equation}
	
	
	\begin{equation}\label{eq:controlability}
	\mathcal{C} = \left[ {\begin{array}{cccccc}	
    \bm{B} & \bm{BA} & \bm{BA}^2 & \bm{BA}^3 & \cdots & \bm{BA}^{11}
	\end{array} } \right] \in 
	\mathbb{R}
	\end{equation}
The system is controllable and observable if $\mathcal{C}$ and $\mathcal{O}$ has full rank.\\
	
	The controller used in this section is, as mentioned above, an LQR, it utilizes a cost function and minimises said cost function to optimise the controller \cite{bokLQ}. To design the LQR we use some of the constants in the state-space equations to express the Q matrix in the following way.
	
	\begin{equation}
	\bm{Q}=\bm{C^}{T}\bm{C}\alpha_{1}
	\end{equation}
	
	Where $\alpha_{1}$ is a scaling factor for the $\bm{Q}$ matrix.
	The $\bm{Q}$ matrix and the identity matrix $\bm{R}$ are then implemented into the following cost function $J$.
	
	\begin{equation}\label{eq:costfunctionJ}
	J = \int_{0}^{\infty} (\bm{x}^{T}(t)\bm{Q}\bm{x}(t)+\bm{u}^{T}(t)\bm{R}\bm{u}(t)) dt
	\end{equation}
	
	$J$ is then minimised to obtain the optimal LQR controller $\bm{K}$ with the given $\alpha_{1}$. This gives us the	linear state  feedback
	\begin{equation}\label{eq:linearstatefeedback}
	\bm{u(t)} = -\bm{K}[\bm{x}(t)-\bm{r}(t)]
\end{equation}
	where $\bm{K}$ can be written as		
	\begin{equation}\label{eq:linearstatefeedback2}
		\bm{K} = \bm{R}^{-1}\bm{B}^T\bm{S}
	\end{equation}
		$\bm{S}$ is, as stated in \cite{mod_control_bresciani}, the solution of the Riccati's algebraic equation: 
	\begin{equation}\label{eq:linearstatefeedback3}
		\bm{S}\bm{A} + \bm{A}^T\bm{S} - \bm{S}\bm{B}\bm{R}^{-1}\bm{B}^T\bm{S} + \bm{C}^T\bm{Q}\bm{C} = 0
	\end{equation}	
	 The motivation behind using a LQR is that it usually has small steady-state errors\cite{lqr_error}. It would be reasonable to focus on getting the deviations from the optimal track to be as small as possible, hence minimising the error.   
	
		
	\section{Multi-UAV Navigation with Collision Avoidance}\label{navigation}
		This section studies one method to find the optimal path to follow from an initial position to a goal. In the case presented in this paper, we consider multiple UAVs flying towards their respective goals, in an environment filled with obstacles. Some proposed graph-search methods to solve this problem are Rapidly-exploring Random Tree (RRT) algorithms or A* search algorithms and other Dijkstra extensions.	Nonetheless, these techniques do not perform very well when the test environment is constantly changing. These methods excel at finding the appropriate path to follow in a labyrinth-like environment. However, if the environment is different in every iteration, these algorithms are inefficient since the UAV may end up following an inefficient path \cite{lavalle_rrt, lavalle_astar}.\\
		
		Another way of dealing with this specific problem is based on artificial potential fields, which is used in this report. We choose this method because it is a simple and efficient algorithm that can navigate the UAV to its goal. It provides a closed form solution, therefore it is computationally efficient. With this technique a high computational speed and an optimised path can be achieved, with simple and elegant calculations\cite{Ge2002}. The main objective in this section is to provide an efficient solution for multi-UAV navigation while avoiding collisions with each other and the obstacles in the environment.\\
		
		Artificial potential fields consist of the sum of an attractive and a repulsive potential. In this case the goal generates the attractive potential and the obstacles generate repulsive potentials. This will determine the motion of the UAV by following the negative gradient of the potential field. \\
		
		In our case we have a random number of vehicles $v\subb{i} \ \forall \ i \in \{1, ...M\}$, each with its respective goal $g\subb{i} \ \forall \ i \in \{1, ...M\}$, and also a random number of obstacles $o\subb{j} \ \forall \ j \in \{1, ...N\}$. All the vehicles and obstacles are modelled as spheres. All UAVs have the same radius $r_i = r$, while obstacles have different radiuses $R_j$. We can define the position of one UAV with $\bm{q}_i $, of a goal with $\bm{q}_{goal,i}$ and of an obstacle with $\bm{q}_{obst,j} $.\\
		
		The distances from the center of a UAV to a goal or an obstacle is calculated with the Euclidean norm, according to (\ref{eq:rho_goal}) and (\ref{eq:rho_obst}) respectively. In the calculation of the distance to an obstacle, the radius of the object is taken into account, if it is an obstacle or another UAV (\ref{eq:a_def}).
		\begin{equation} \label{eq:rho_goal}
		\rho\subb{goal, i}(\bm{q}\subb{i}) = \parallel \bm{q}\subb{i} - \bm{q}\subb{goal,i}\parallel
		\end{equation}
		\begin{equation} \label{eq:rho_obst}
		\rho\subb{obst, i, j}(\bm{q}\subb{i}) = \parallel \bm{q}\subb{i} - \bm{q}\subb{obst, j}\parallel - \ a
		\end{equation}
		\begin{equation} \label{eq:a_def}
		\ a \in \{R_j, \ r\ |\ \forall j\}
		\end{equation}
		
		The repulsive and the attractive potentials are calculated according to \cite{potfieldsmethod}, and are described by equations (\ref{eq:pot_att}) and (\ref{eq:pot_rep}) respectively.
		\begin{equation} \label{eq:pot_att}
		U\subb{att, i}(\bm{q}\subb{i}) =  \left\lbrace  {\begin{array}{cc}
			\frac{1}{2} \xi\subb{1} \rho\subb{goal, i}^2(\bm{q}\subb{i})& \textrm{if} \ \rho\subb{goal, i}(\bm{q}\subb{i})\leq d \\
			\\
			d \xi\subb{2} \rho\subb{goal, i}(\bm{q}\subb{i}) &\textrm{if} \ \rho\subb{goal, i}(\bm{q}\subb{i})> d \\
			\end{array} } \right.
		\end{equation}
		
		\begin{equation} \label{eq:pot_rep}
		U\subb{rep, i,j}(\bm{q}\subb{i}) =  \left\lbrace  {\begin{array}{cc}
			\frac{1}{2} \eta (\frac{1}{\rho\subb{obst,i,j}(\bm{q}\subb{i})} - \frac{1}{\rho\subb{0}}) &\textrm{if} \ \rho\subb{obst,i,j}(\bm{q}\subb{i})\leq \rho\subb{0} \\
			\\
			0 &\textrm{if} \ \rho\subb{obst,i,j}(\bm{q}\subb{i})> \rho\subb{0} \\
			\end{array} } \right.
		\end{equation}		
		
		The $d$ parameter is the distance from the goal where the attractive function changes from a conic to a parabolic well configuration. The constant $\rho\subb{0}$ is the sensing radius of the UAV. Finally, $\xi\subb{1}$, $\xi\subb{2}$ and $\eta$ are positive scaling factors that allow potential adjustment. \\
		
		The potential fields' desired force on the UAV is calculated by (\ref{eq:force_from_pot}), since the negative gradient of a potential field $-\bm{\nabla} U$ is a vector that points in the direction of steepest descent. 
		
		\begin{equation} \label{eq:force_from_pot}
		\vec{F}(\bm{q}) = - \bm{\nabla} U(\bm{q})
		\end{equation}
		
		This leads to (\ref{eq:force_att}) and (\ref{eq:force_rep}), that show how these repulsive and attractive forces are calculated.
		
		\begin{equation} \label{eq:force_att}
		\vec{F}\subb{att, i}(\bm{q}\subb{i}) =  \left\lbrace  {\begin{array}{cc}
			- \xi\subb{1} (\bm{q}\subb{i}-\bm{q}\subb{goal, i})& \textrm{if} \ \rho\subb{goal, i}(\bm{q}\subb{i})\leq d \\
			\\
			-d \xi\subb{2} \frac{(\bm{q}\subb{i}-\bm{q}\subb{goal, i})}{\parallel\bm{q}\subb{i}-\bm{q}\subb{goal,i}\parallel}&\textrm{if} \ \rho\subb{goal, i}(\bm{q}\subb{i})> d \\
			\end{array} } \right.
		\end{equation}
		
		\begin{equation} \label{eq:force_rep}	
		\resizebox{0.5\textwidth}{!}{ $
			\vec{F}\subb{rep, i,j}(\bm{q}\subb{i}) =  \left\lbrace  {\begin{array}{cc}
				\eta (\frac{1}{\rho\subb{obst,i,j}(\bm{q}\subb{i})}-\frac{1}{\rho\subb{0}})(\frac{1}{\rho\subb{obst,i,j}^2(\bm{q}\subb{i})})\frac{(\bm{q}\subb{i}-\bm{q}\subb{obst,i,j})}{\parallel\bm{q}\subb{i}-\bm{q}\subb{obst,i,j} \parallel} & \textrm{if} \ \rho\subb{obst,i,j}(\bm{q}\subb{i})\leq \rho\subb{0} \\
				\\
				0 &\textrm{if} \ \rho\subb{obst,i,j}(\bm{q}\subb{i})> \rho\subb{0} \\
				\end{array} } \right. $}
		\end{equation}
		
		There are two reasons for splitting the attractive potential and force functions into two parts. In the case of a parabolic configuration for all the space, there is a linear dependence on the force with the distance between the UAV and the goal, hence the force grows indefinitely when the UAV is far from the goal. At the same time, in the case of a conic configuration for all the space, there is a singular point in the goal that could make the UAV oscilate around it. The solution is to combine both configurations to solve these problems, by making the force constant when far from the goal with a conic configuration, and then using a parabolic function when reaching the goal to avoid the singularity.\\
		
		When an UAV is moving, it also considers other vehicles as obstacles. We can define another set of obstacles $v'\subb{k} \ \forall \ k \in \{1, ...M\}$, that correspond to all the vehicles considered as obstacles.\\
		
		Finally, the repulsive and attractive potentials and forces are added, according to (\ref{eq:pot_total}) and (\ref{eq:force_total}), in order to obtain the total potential field and force. 
		\begin{equation} \label{eq:pot_total}
		U\subb{total, i}(\bm{q}\subb{i}) = U\subb{att, i}(\bm{q}\subb{i}) + \sum \limits_{\forall j}U\subb{rep,i,j}(\bm{q}\subb{i}) + \sum \limits_{\forall k \neq i}U\subb{rep,i,k}(\bm{q}\subb{i}) 
		\end{equation}
		\begin{equation} \label{eq:force_total}
		\vec{F}\subb{total, i}(\bm{q}\subb{i}) = \vec{F}\subb{att,i}(\bm{q}\subb{i}) + \sum\limits_{\forall j} \vec{F}\subb{rep,i,j}(\bm{q}\subb{i}) + \sum\limits_{\forall k \neq i} \vec{F}\subb{rep,i,k}(\bm{q}\subb{i})
		\end{equation}
		
		
		To simplify the simulations, first order dynamics are assumed for the quadcopter model. This means that the control signal $\bm{u}(t)$ can be estimated as the velocity obtained from the negative gradient of the potential, as can be seen in (\ref{eq:first_order}).
		\begin{equation} \label{eq:first_order}
		\bm{u}\subb{i}(t) = \bm{\dot p}\subb{i}(t) = -\bm{\nabla}U\subb{total, i}(\bm{q}\subb{i}(t))
		\end{equation}
		\\
		The potential fields method has some clear limitations. The most important problem to solve is the local minima situation, where a vehicle can get stuck and therefore never arriving to its goal. To exemplify this case, we consider a vehicle $v\subb{1}$, its goal $g\subb{1}$ and only one obstacle $o\subb{1}$. We can rewrite (\ref{eq:force_total}) for this example as (\ref{eq:force_total_example}).
		\begin{equation} \label{eq:force_total_example}
			\vec{F}\subb{total, 1}(\bm{q}\subb{1}) = \vec{F}\subb{att,1}(\bm{q}\subb{1}) + \vec{F}\subb{rep,1,1}(\bm{q}\subb{1})
		\end{equation}
		Since the attractive and repulsive forces, determined by (\ref{eq:force_att}) and (\ref{eq:force_rep}), have different signs, there is a certain configuration where they cancel each other. This means that the gradient of the potential field is zero (\ref{eq:cancel_example}) and that there is a local minimum in the potential function. Therefore the vehicle will not move from such a point since the gradient of the potential field will be zero.
	
		\begin{equation} \label{eq:cancel_example}
		\begin{split} 
					\vec{F}\subb{att,1}(\bm{q}\subb{1}) &= -\vec{F}\subb{rep,1,1}(\bm{q}\subb{1}) \\ \vec{F}\subb{total, 1}(\bm{q}\subb{1}) &= 0 \\   \bm{\nabla} U\subb{total, 1}(\bm{q}\subb{1})  &= 0
		\end{split}
		\end{equation}
		
		There are some other problems, like the difficulty of passing between closely-spaced obstacles or inherent oscilations in the trajectory when near obstacles, as stated by Koren and Borenstein in \cite{koren_pot_fields_limitations}. 
	
	\section{Simulation and results}
	All the necessary formulas described in this report have been implemented in MatLab to test their validity in the context. We have tested both the LQR controller developed in section IV and the multi-UAV navigation controller studied in section V. \\
	
	For the trajectory tracking we constructed the linear state-space equations of the mathematical model in a MatLab script using the initial starting position as the equilibrium point. The equations described in section IV for controllability and observability were then used to check that the system was observable and controllable.  We then used MatLab tools to design a LQR with $\bm{R}$ as an identity matrix and the scaling factor $\alpha\subb{1}$ for $\bm{Q}$ set to 50. The step responses of the system were analysed, which produced the results shown in \figurename{ \ref{fig:contresangles}}, \figurename{ \ref{fig:contresangvel}}, \figurename{ \ref{fig:contresvel}} and \figurename{ \ref{fig:contrespos}} where one can see that the steady state error is zero for all step responses.\\


	
		\begin{figure}[H]
  			\centering
  			\includegraphics[width=2.5in]{Results/Controll/Fig1}
  			\caption{Step response for the Euler angles 1 rad from desired position.}
  			\label{fig:contresangles}
		\end{figure}	
		
		\begin{figure}[H]
  			\centering
  			\includegraphics[width=2.5in]{Results/Controll/Fig2}
  			\caption{Step response for angular velocities 1 rad/s from desired angular velocity.}
  			\label{fig:contresangvel}
		\end{figure}	

		\begin{figure}[H]
  			\centering
  			\includegraphics[width=2.5in]{Results/Controll/Fig3}
  			\caption{Step response for velocities 1 m/s from desired velocity.}
  			\label{fig:contresvel}
		\end{figure}	
		
		\begin{figure}[H]
  			\centering
  			\includegraphics[width=2.5in]{Results/Controll/Fig4}
  			\caption{Step response for positions 1 meter from desired position.}
  			\label{fig:contrespos}
		\end{figure}	

	
	For the navigation part we developed a script to test the guidance of our potential field function by simulating a random number of UAVs in the range $[5,7]$ and obstacles in the range $[50,100]$. The initial and goal configurations for the UAVs, and the center of the obstacles are random within a $30\times 30\times 30   \ \SI{}{\meter^3}$ cube. Obstacles can not appear too close to the quadcopters or their goals.\\
	
	Obstacles have a random radius between $\SI{0.3}{m}$ and $\SI{2}{m}$. Each UAV has a radius of $\SI{25}{\centi\meter}$ and the sphere of influence of $\SI{2}{m}$. These values are inspired by real-life situations, in the case we considered a relatively large UAV. For the sphere of influence, the most common IR and ultrasonic sensors, placed in the adequate places, allow sensing up to $\SI{2}{\meter}$ without any problem. For the scaling factors, we used $\xi\subb{1} = 1$, $\xi\subb{2} = 0.3$ and $\eta = 1$. The value of $\xi\subb{1}$ is assigned so the UAVs have a desired velocity of around $\SI{0.5}{\frac{\meter}{\second}}$ when far from the goal. Both the attractive and the repulsive potentials have the same scaling by setting $\eta$ to the same value as $\xi\subb{1}$, to prevent collisions with obstacles. When closer to the goal, the scaling factor is lowered to avoid oscillations around the goal. The distance to change from conic to parabolic well is set to $d = \SI{1}{\meter}$ so the velocity of the UAV is restricted most part of its flight.\\
	
	The algorithm works by calculating, for each vehicle, the distance to the goal and if an obstacle is close enough to be detected. The potential function is calculated consequently. Then as stated in (\ref{eq:first_order}), the drone advances in space with a set discrete time step of $\SI{0.1}{\second}$, to assure that the UAVs do not move for a long period of time without checking the state and the environment.\\

	\begin{figure}[H]
			\centering
			\includegraphics[width=8cm]{Results/Potentialfields/env_1}
			\caption{Random case environment from first perspective for the potential fields simulation.}
			\label{fig:env_1}
		\end{figure}	
		\begin{figure}[H]
			\centering
			\includegraphics[width=8cm]{Results/Potentialfields/env_2}
			\caption{Random case environment from second perspective.}
			\label{fig:env_2}
		\end{figure}	
		\begin{figure}[H]
			\centering
			\includegraphics[width=8cm]{Results/Potentialfields/env_3}
			\caption{Random case environment from third perspective.}
			\label{fig:env_3}
		\end{figure}	
		\begin{figure}[H]
			\centering
			\includegraphics[width=8cm]{Results/Potentialfields/goal}
			\caption{Random case environment - Distance from vehicles to their respective goal.}
			\label{fig:goal}
		\end{figure}
		\begin{figure}[H]
			\centering
			\includegraphics[width=8cm]{Results/Potentialfields/obst}
			\caption{Random case environment - Distance from vehicles' surface to any other obstacle's surface.}
			\label{fig:obst}
		\end{figure}
	
		\begin{figure}[H]
			\centering
			\includegraphics[width=8cm]{Results/Potentialfields/vel}
			\caption{Random case environment - Velocities for each vehicle.}
			\label{fig:vel}
		\end{figure}

			
		In \figurename{ \ref{fig:env_1}}, \figurename{ \ref{fig:env_2}} and \figurename{ \ref{fig:env_3}}, it can be seen that each UAV (represented by a colour) reaches its goal (represented by a $\blacklozenge$ of the same colour) while avoiding the obstacles that it encounters throughout its path. In \figurename{ \ref{fig:goal}} we can see the distance from the vehicle to its goal at each time step. The distance between the surface of an UAV and its closest obstacle's surface (static or dynamic) its always above zero, as can be seen in \figurename{ \ref{fig:obst}}. In \figurename{ \ref{fig:vel}}, we can see the velocity for all UAVs in each time step.
		
		We further performed a specific simulation with three UAVs, with fixed values for their initial positions and goals, to study how they interact when in a small space. In \figurename{ \ref{fig:multi_uav_avoidance}} and \figurename{ \ref{fig:multi_uav_avoidance_distance}}, we can see that they arrived to their goals while mantaining a minimum safe margin $\SI{}{}$ .
		
		\begin{figure}[H]
			\centering
			\includegraphics[width=8cm]{Results/Potentialfields/multi_uav_avoidance}
			\caption{Multi UAV avoidance case.}
			\label{fig:multi_uav_avoidance}
		\end{figure}
	
		\begin{figure}[H]
			\centering
			\includegraphics[width=8cm]{Results/Potentialfields/multi_uav_avoidance}
			\caption{Multi UAV avoidance case.}
			\label{fig:multi_uav_avoidance_distance}
		\end{figure}
	
		Finally, we also performed another specific simulation to test the local minima situation explained in the last part of Section V. As can be seen in \figurename{ \ref{fig:localminima}}, the UAV  \figurename{ \ref{fig:localminima_velocity}} , 
		
		\begin{figure}[H]
			\centering
			\includegraphics[width=8cm]{Results/Potentialfields/localminima}
			\caption{Local minima problem for the symmetric case.}
			\label{fig:localminima}
		\end{figure}
		
	\section{Discussion, conclusion and Future development}
	As mentioned in the Simulation and Results section, \figurename{ \ref{fig:contresangles}}, \figurename{ \ref{fig:contresangvel}}, \figurename{ \ref{fig:contresvel}} and \figurename{ \ref{fig:contrespos}} all show a steady state error of zero, which is the case for all 12 outputs from the feedback system. This implies that the LQR is working the way it was intended to and that we actually have full control of the UAV. The parameters Q and R were heuristically chosen, the rise, settling and overshoot times can therefore be further improved by changing the values of Q and R. This could be a subject to study in a  future projects within the field. \\

	The potential field method has been proved to be reliable in not allowing UAVs to collide with each other or other obstacles, as can be seen in the multi-drone-avoidance case in \figurename{ \ref{fig:multi_uav_avoidance}}. It also provides good enough safe margins of more than $\SI{0.5}{\meter}$ of minimum distance between a moving UAV and any other type of static or dynamic obstacle, as can be seen in \figurename{ \ref{fig:obst}}. The velocities of the different UAVs, as seen in \figurename{ \ref{fig:vel}}, are appropriate for this case study, in terms of real life UAV capabilities. The vehicles should not be slow but neither too fast to assure obstacle detection with enough margin to avoid them in time. This is due to the discrete nature of the computer unit that implements the controller and the sensor's measurements. Therefore, an 'open environment' velocity of around $\SI{1}{\frac{\meter}{\second}}$ in our case is considered to be safe. Since we can see in \figurename{ \ref{fig:obst}} that the safe margin is large, the velocity could also be increased. \\
	
	As explained in the last sections, potential fields can be problematic in some specific cases, this should be solved before this method can be used to test how UAVs would move in more realistic environments, e.g a city-like environment. As can be seen in \figurename{ \ref{fig:localminima}}, the geometries where a UAV can get stuck in a local minima of a plain potential field function are not complex, but also not likely to happen.\\

	Future projects could try to control the simulated drones with the full dynamic model designed, to see if it would actually provide a safe navigation for the drones and test it out in a real quad copter. Another future project could be to focus on the difference between different navigation algorithms, i.e. Djikstra compared to RRT, potential fields and so on, and also develop more tools and tests to compare them. Further research could try implementing smart cameras for navigational purposes.\\
	
	
	% if have a single appendix:
	%\appendix[Proof of the Zonklar Equations]
	% or
	%\appendix  % for no appendix heading
	% do not use \section anymore after \appendix, only \section*
	% is possibly needed
	
	% use appendices with more than one appendix
	% then use \section to start each appendix
	% you must declare a \section before using any
	% \subsection or using \label (\appendices by itself
	% starts a section numbered zero.)
	%
	
	
%	\appendices
%	\section{Dynamics or something that's heavy on the maths goes here}
%	Appendix one text goes here.
%	
%		\begin{equation} \label{eq:derivpos_earth_body}
%	\bm{\dot \xi} = \left[ {\begin{array}{c}
%		\dot \phi\\
%		\dot \theta\\
%		\dot \psi\\
%		\dot p\\
%		\dot q\\
%		\dot r\\
%		\dot u\\
%		\dot v\\
%		\dot w\\
%		\dot x\\
%		\dot y\\
%		\dot z\\
%		
%		\end{array} } \right]
%	%= \bm{J}_\Theta \ \bm{\nu}
%	\end{equation}
%	
%	% you can choose not to have a title for an appendix
%	% if you want by leaving the argument blank
%	\section{Something else but similar here, matlab code?}
%	Appendix two text goes here.
%	
	
	% use section* for acknowledgement
	\section*{Acknowledgment}
	We would like to thank Christos Verginis, our supervisor, for his guidance, help and support during this project.
		% An example of a floating figure using the graphicx package.
	% Note that \label must occur AFTER (or within) \caption.
	% For figures, \caption should occur after the \includegraphics.
	% Note that IEEEtran v1.7 and later has special internal code that
	% is designed to preserve the operation of \label within \caption
	% even when the captionsoff option is in effect. However, because
	% of issues like this, it may be the safest practice to put all your
	% \label just after \caption rather than within \caption{}.
	%
	% Reminder: the "draftcls" or "draftclsnofoot", not "draft", class
	% option should be used if it is desired that the figures are to be
	% displayed while in draft mode.
	%
	%\begin{figure}[!t]
	%\centering
	%\includegraphics[width=2.5in]{myfigure}
	% where an .eps filename suffix will be assumed under latex,
	% and a .pdf suffix will be assumed for pdflatex; or what has been declared
	% via \DeclareGraphicsExtensions.
	%\caption{Simulation Results.}
	%\label{fig_sim}
	%\end{figure}
	
	% Note that IEEE typically puts floats only at the top, even when this
	% results in a large percentage of a column being occupied by floats.
	
	
	% An example of a double column floating figure using two subfigures.
	% (The subfig.sty package must be loaded for this to work.)
	% The subfigure \label commands are set within each subfloat command,
	% and the \label for the overall figure must come after \caption.
	% \hfil is used as a separator to get equal spacing.
	% Watch out that the combined width of all the subfigures on a
	% line do not exceed the text width or a line break will occur.
	%
	%\begin{figure*}[!t]
	%\centering
	%\subfloat[Case I]{\includegraphics[width=2.5in]{box}%
	%\label{fig_first_case}}
	%\hfil
	%\subfloat[Case II]{\includegraphics[width=2.5in]{box}%
	%\label{fig_second_case}}
	%\caption{Simulation results.}
	%\label{fig_sim}
	%\end{figure*}
	%
	% Note that often IEEE papers with subfigures do not employ subfigure
	% captions (using the optional argument to \subfloat[]), but instead will
	% reference/describe all of them (a), (b), etc., within the main caption.
	
	
	% An example of a floating table. Note that, for IEEE style tables, the
	% \caption command should come BEFORE the table. Table text will default to
	% \footnotesize as IEEE normally uses this smaller font for tables.
	% The \label must come after \caption as always.
	%
	%\begin{table}[!t]
	%% increase table row spacing, adjust to taste
	%\renewcommand{\arraystretch}{1.3}
	% if using array.sty, it might be a good idea to tweak the value of
	% \extrarowheight as needed to properly center the text within the cells
	%\caption{An Example of a Table}
	%\label{table_example}
	%\centering
	%% Some packages, such as MDW tools, offer better commands for making tables
	%% than the plain LaTeX2e tabular which is used here.
	%\begin{tabular}{|c||c|}
	%\hline
	%One & Two\\
	%\hline
	%Three & Four\\
	%\hline
	%\end{tabular}
	%\end{table}
	
	
	% Note that IEEE does not put floats in the very first column - or typically
	% anywhere on the first page for that matter. Also, in-text middle ("here")
	% positioning is not used. Most IEEE journals use top floats exclusively.
	% Note that, LaTeX2e, unlike IEEE journals, places footnotes above bottom
	% floats. This can be corrected via the \fnbelowfloat command of the
	% stfloats package.
	
	
	% Can use something like this to put references on a page
	% by themselves when using endfloat and the captionsoff option.
	\ifCLASSOPTIONcaptionsoff
	\newpage
	\fi
	
	% trigger a \newpage just before the given reference
	% number - used to balance the columns on the last page
	% adjust value as needed - may need to be readjusted if
	% the document is modified later
	%\IEEEtriggeratref{8}
	% The "triggered" command can be changed if desired:
	%\IEEEtriggercmd{\enlargethispage{-5in}}
	
	% references section
	
	% can use a bibliography generated by BibTeX as a .bbl file
	% BibTeX documentation can be easily obtained at:
	% http://www.ctan.org/tex-archive/biblio/bibtex/contrib/doc/
	% The IEEEtran BibTeX style support page is at:
	% http://www.michaelshell.org/tex/ieeetran/bibtex/
	\bibliographystyle{IEEEtran}
	% argument is your BibTeX string definitions and bibliography database(s)
	%\bibliography{Report}
	\bibliography{bib}
	
	% You can push biographies down or up by placing
	% a \vfill before or after them. The appropriate
	% use of \vfill depends on what kind of text is
	% on the last page and whether or not the columns
	% are being equalized.
	
	%\vfill

	% Can be used to pull up biographies so that the bottom of the last one
	% is flush with the other column.
	%\enlargethispage{-5in}

	% that's all folks
\end{document}


